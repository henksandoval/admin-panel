@use 'sass:map';
@use './theme';
@use './variables';
@use './mixins' as mixins;
@use '@angular/material' as mat;

@tailwind base;
@tailwind components;
@tailwind utilities;

@include mat.core();

@each $color-name, $theme-variants in theme.$themes {
  $light-theme: map.get($theme-variants, 'light');
  $dark-theme: map.get($theme-variants, 'dark');

  // Selector para tema claro con el color específico
  // El color por defecto (default) se aplica también a :root para compatibilidad
  @if $color-name == 'default' {
    :root,
    .light-theme,
    body.theme-#{$color-name}.light-theme {
      @include mat.all-component-themes($light-theme);
    }
  } @else {
    body.theme-#{$color-name}.light-theme {
      @include mat.all-component-themes($light-theme);
    }
  }

  // Selector para tema oscuro con el color específico
  @if $color-name == 'default' {
    .dark-theme,
    body.theme-#{$color-name}.dark-theme {
      @include mat.all-component-themes($dark-theme);
    }
  } @else {
    body.theme-#{$color-name}.dark-theme {
      @include mat.all-component-themes($dark-theme);
    }
  }
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

mat-card,
.mat-mdc-card {
  padding: 0;
}

* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

button, input, select, textarea {
  transition-property: none;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--theme-primary-800);
}

::-webkit-scrollbar-thumb {
  background: var(--theme-primary-500);
  border-radius: 3px;

  &:hover {
    background: var(--theme-primary-400);
  }
}

.app-theme-background {
  @include mixins.theme-background;
  @include mixins.theme-text-on-primary;
  @include mixins.theme-badge;
  @include mixins.theme-border();
  @include mixins.overlay-borders;

  &[class*="mat-"],
  &[class*="mat-mdc-"] {
    @include mixins.theme-background;
  }
}

.app-theme-background-gradient {
  @include mixins.theme-background-gradient;
  @include mixins.theme-text-on-primary;
  @include mixins.theme-badge;
  @include mixins.theme-border();
  @include mixins.overlay-borders;

  &[class*="mat-"],
  &[class*="mat-mdc-"] {
    @include mixins.theme-background-gradient;
  }
}

