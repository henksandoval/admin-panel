@use 'sass:map';
@use './theme';
@use './variables';
@use './utilities';
@use '@angular/material' as mat;

// ================================================
// TAILWIND
// ================================================

@tailwind base;
@tailwind components;
@tailwind utilities;

// ================================================
// ANGULAR MATERIAL
// ================================================

@include mat.core();

@each $color-name, $theme-variants in theme.$themes {
  $light-theme: map.get($theme-variants, 'light');
  $dark-theme: map.get($theme-variants, 'dark');

  // Selector para tema claro con el color específico
  // El color por defecto (default) se aplica también a :root para compatibilidad
  @if $color-name == 'default' {
    :root,
    .light-theme,
    body.theme-#{$color-name}.light-theme {
      @include mat.all-component-themes($light-theme);
    }
  } @else {
    body.theme-#{$color-name}.light-theme {
      @include mat.all-component-themes($light-theme);
    }
  }

  // Selector para tema oscuro con el color específico
  @if $color-name == 'default' {
    .dark-theme,
    body.theme-#{$color-name}.dark-theme {
      @include mat.all-component-themes($dark-theme);
    }
  } @else {
    body.theme-#{$color-name}.dark-theme {
      @include mat.all-component-themes($dark-theme);
    }
  }
}

// ================================================
// BASE STYLES
// ================================================

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

// ================================================
// ANGULAR MATERIAL OVERRIDES
// ================================================

mat-card,
.mat-mdc-card {
  padding: 0 !important;
}

// ================================================
// GLOBAL TRANSITIONS
// ================================================

* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

button, input, select, textarea {
  transition-property: none;
}

// ================================================
// GLOBAL SCROLLBAR
// ================================================

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #f9fafb;
}

::-webkit-scrollbar-thumb {
  background: #e5e7eb;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #d1d5db;
}

.dark-theme {
  ::-webkit-scrollbar-track {
    background: #1e293b;
  }

  ::-webkit-scrollbar-thumb {
    background: #475569;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #64748b;
  }
}

