@use '@angular/material' as mat;

@mixin apply-material-overrides() {
  @include _chrome-element-adjustments();
  @include _button-overrides();
  @include _main-content-background();
}

@mixin apply-component-overrides() {
  @include mat.toolbar-overrides((
    container-background-color: var(--chrome-bg),
    container-text-color: var(--chrome-text)
  ));

  @include mat.sidenav-overrides((
    container-background-color: var(--chrome-bg),
    container-text-color: var(--chrome-text)
  ));

  @include mat.button-toggle-overrides((
    background-color: var(--overlay-on-surface-08),
    selected-state-background-color: var(--mat-sys-primary),
    selected-state-text-color: var(--mat-sys-on-primary),
    text-color: var(--mat-sys-on-surface)
  ));
}

@mixin _chrome-element-adjustments() {
  mat-toolbar,
  mat-sidenav {
    .mat-mdc-icon-button {
      color: var(--chrome-text);
    }
  }
}

@mixin _main-content-background() {
  .main-content {
    background-color: var(--mat-sys-background);
  }
}

@mixin _button-overrides() {
  @include _button-secondary-overrides();
  @include _button-tertiary-overrides();
}

@mixin _button-secondary-overrides() {
  [color="secondary"] {
    &.mat-mdc-unelevated-button {
      @include mat.button-overrides((
        filled-container-color: var(--mat-sys-secondary),
        filled-label-text-color: var(--mat-sys-on-secondary),
        filled-state-layer-color: var(--mat-sys-on-secondary),
        filled-ripple-color: var(--mat-sys-on-secondary),
      ));
    }

    &.mat-mdc-raised-button {
      @include mat.button-overrides((
        protected-label-text-color: var(--mat-sys-secondary),
        protected-state-layer-color: var(--mat-sys-secondary),
        protected-ripple-color: var(--mat-sys-secondary),
      ));
    }

    &.mat-mdc-outlined-button {
      @include mat.button-overrides((
        outlined-label-text-color: var(--mat-sys-secondary),
        outlined-outline-color: var(--mat-sys-secondary),
        outlined-state-layer-color: var(--mat-sys-secondary),
        outlined-ripple-color: var(--mat-sys-secondary),
      ));
    }

    &.mat-mdc-button {
      @include mat.button-overrides((
        text-label-text-color: var(--mat-sys-secondary),
        text-state-layer-color: var(--mat-sys-secondary),
        text-ripple-color: var(--mat-sys-secondary),
      ));
    }

    &.mat-mdc-tonal-button {
      @include mat.button-overrides((
        tonal-container-color: var(--mat-sys-secondary-container),
        tonal-label-text-color: var(--mat-sys-on-secondary-container),
        tonal-state-layer-color: var(--mat-sys-on-secondary-container),
        tonal-ripple-color: var(--mat-sys-on-secondary-container),
      ));
    }
  }
}

@mixin _button-tertiary-overrides() {
  [color="tertiary"] {
    &.mat-mdc-unelevated-button {
      @include mat.button-overrides((
        filled-container-color: var(--mat-sys-tertiary),
        filled-label-text-color: var(--mat-sys-on-tertiary),
        filled-state-layer-color: var(--mat-sys-on-tertiary),
        filled-ripple-color: var(--mat-sys-on-tertiary),
      ));
    }

    &.mat-mdc-raised-button {
      @include mat.button-overrides((
        protected-label-text-color: var(--mat-sys-tertiary),
        protected-state-layer-color: var(--mat-sys-tertiary),
        protected-ripple-color: var(--mat-sys-tertiary),
      ));
    }

    &.mat-mdc-outlined-button {
      @include mat.button-overrides((
        outlined-label-text-color: var(--mat-sys-tertiary),
        outlined-outline-color: var(--mat-sys-tertiary),
        outlined-state-layer-color: var(--mat-sys-tertiary),
        outlined-ripple-color: var(--mat-sys-tertiary),
      ));
    }

    &.mat-mdc-button {
      @include mat.button-overrides((
        text-label-text-color: var(--mat-sys-tertiary),
        text-state-layer-color: var(--mat-sys-tertiary),
        text-ripple-color: var(--mat-sys-tertiary),
      ));
    }

    &.mat-mdc-tonal-button {
      @include mat.button-overrides((
        tonal-container-color: var(--mat-sys-tertiary-container),
        tonal-label-text-color: var(--mat-sys-on-tertiary-container),
        tonal-state-layer-color: var(--mat-sys-on-tertiary-container),
        tonal-ripple-color: var(--mat-sys-on-tertiary-container),
      ));
    }
  }
}
