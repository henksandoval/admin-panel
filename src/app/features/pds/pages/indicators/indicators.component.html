<app-pds-page-layout
  title="Badge Component Playground"
  description="Experimenta con diferentes configuraciones del componente y observa cómo cambia la documentación en tiempo real."
  componentTag="<app-badge>"
  [code]="generatedCode()"
  [apiProperties]="API_PROPERTIES"
  [bestPractices]="BEST_PRACTICES"
  [variantGuides]="BADGE_VARIANT_GUIDES"
  [currentVariant]="selectedVariant()">

  <app-button slot="header-action" variant="text" (clicked)="goBack()" iconBefore="arrow_back" class="back-button mb-4">
    Back to PDS Index
  </app-button>

  <div slot="preview">
    @if (selectedVariant() === 'overlay') {
      <app-badge
        variant="overlay"
        [content]="badgeContent()"
        [color]="overlayColor()"
        [position]="position()"
        [overlap]="overlap()"
        [hidden]="hidden()">
        <button mat-icon-button>
          <mat-icon>notifications</mat-icon>
        </button>
      </app-badge>
    } @else {
      <app-badge variant="inline" [color]="inlineColor()" [hasIndicator]="hasIndicator()">
        {{ badgeLabel() }}
      </app-badge>
    }
  </div>

  <div slot="controls">
    <div class="space-y-2">
      <label class="section-label text-sm font-medium flex items-center gap-1.5">
        <mat-icon class="control-label-icon">category</mat-icon>
        Variant
      </label>
      <app-toggle-group [options]="variantOptions" [(value)]="selectedVariant" class="w-full" />
    </div>

    @if (selectedVariant() === 'overlay') {
      <div class="space-y-2">
        <app-form-field-input
          [(ngModel)]="badgeContent"
          [config]="{
            label: 'Content',
            placeholder: 'Badge content',
            icon: 'numbers'
          }">
        </app-form-field-input>
      </div>

      <div class="space-y-2">
        <label class="section-label text-sm font-medium flex items-center gap-1.5">
          <mat-icon class="control-label-icon">place</mat-icon>
          Position
        </label>
        <app-toggle-group [options]="positionOptions" [(value)]="position" class="w-full" />
      </div>

      <div>
        <app-checkbox [(checked)]="overlap" color="primary">Overlap</app-checkbox>
        <app-checkbox [(checked)]="hidden" color="tertiary">Hidden</app-checkbox>
      </div>
    } @else {
      <div class="space-y-2">
        <app-form-field-input
          [(ngModel)]="badgeLabel"
          [config]="{
            label: 'Label',
            placeholder: 'Badge label',
            icon: 'text_fields'
          }">
        </app-form-field-input>
      </div>

      <div class="space-y-2">
        <label class="section-label text-sm font-medium flex items-center gap-1.5">
          <mat-icon class="control-label-icon">palette</mat-icon>
          Color
        </label>
        <app-toggle-group [options]="inlineColorOptions" [(value)]="inlineColor" class="w-full" />
      </div>
      <div>
        <app-checkbox [(checked)]="hasIndicator" color="primary">Show Indicator (!)</app-checkbox>
      </div>
    }
  </div>

  <div slot="documentation">
    @if (selectedVariant() === 'overlay') {
      <section>
        <h3 class="section-title text-lg font-bold mb-4 flex items-center gap-2">
          <mat-icon color="primary">explore</mat-icon> Position Variations
        </h3>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
          @for (pos of BADGE_POSITIONS; track pos.value) {
            <div class="color-variation-card p-4 rounded-lg border flex flex-col items-center gap-3">
              <app-badge
                variant="overlay"
                [content]="badgeContent()"
                [color]="overlayColor()"
                [position]="pos.value"
                [overlap]="overlap()">
                <button mat-icon-button>
                  <mat-icon>star</mat-icon>
                </button>
              </app-badge>
              <code class="text-xs text-center">{{ pos.label }}</code>
            </div>
          }
        </div>
      </section>
    } @else {
      <section>
        <h3 class="section-title text-lg font-bold mb-4 flex items-center gap-2">
          <mat-icon color="primary">palette</mat-icon> Color Variations
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
          @for (color of INLINE_COLORS; track color.value) {
            <div class="color-variation-card p-4 rounded-lg border flex flex-col items-center gap-3">
              <app-badge variant="inline" [color]="color.value">{{ badgeLabel() }}</app-badge>
              <div class="text-center">
                <code class="text-xs block">color="{{ color.value }}"</code>
              </div>
            </div>
          }
        </div>
      </section>
      <section>
        <h3 class="section-title text-lg font-bold mb-4 flex items-center gap-2">
          <mat-icon color="primary">info</mat-icon> With Indicator
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
          @for (color of INLINE_COLORS; track color.value) {
            <div class="color-variation-card p-4 rounded-lg border flex flex-col items-center gap-3">
              <app-badge variant="inline" [color]="color.value" [hasIndicator]="true">{{ badgeLabel() }}</app-badge>
              <code class="text-xs">[hasIndicator]="true"</code>
            </div>
          }
        </div>
      </section>
    }
  </div>

</app-pds-page-layout>
