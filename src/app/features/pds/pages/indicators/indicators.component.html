<app-pds-page-layout
  [apiProperties]="API_PROPERTIES"
  [bestPractices]="BEST_PRACTICES"
  [code]="generatedCode()"
  [currentVariant]="selectedVariant()"
  [variantGuides]="BADGE_VARIANT_GUIDES"
  componentTag="<app-badge>"
  description="Experimenta con diferentes configuraciones del componente y observa cómo cambia la documentación en tiempo real."
  title="Badge Component Playground">

  <app-button (clicked)="goBack()" class="back-button mb-4" iconBefore="arrow_back" slot="header-action" variant="text">
    Back to PDS Index
  </app-button>

  <div slot="preview">
    @if (selectedVariant() === 'overlay') {
      <app-badge
        [color]="overlayColor()"
        [content]="badgeContent()"
        [hidden]="hidden()"
        [overlap]="overlap()"
        [position]="position()"
        variant="overlay">
        <button mat-icon-button>
          <mat-icon>notifications</mat-icon>
        </button>
      </app-badge>
    } @else {
      <app-badge [color]="inlineColor()" [hasIndicator]="hasIndicator()" variant="inline">
        {{ badgeLabel() }}
      </app-badge>
    }
  </div>

  <div slot="controls">
    <div class="mt-2">
      <label class="section-label flex items-center gap-1.5 mb-1">
        <mat-icon>category</mat-icon>
        Variant
      </label>
      <app-toggle-group [(value)]="selectedVariant" [options]="variantOptions" class="w-full"/>
    </div>

    @if (selectedVariant() === 'overlay') {
      <div class="mt-2">
        <app-form-input
          [(ngModel)]="badgeContent"
          [config]="{
            label: 'Content',
            placeholder: 'Badge content',
            icon: 'numbers'
          }">
        </app-form-input>
      </div>

      <div class="mt-2">
        <label class="section-label flex items-center gap-1.5 mb-1">
          <mat-icon>place</mat-icon>
          Position
        </label>
        <app-toggle-group [(value)]="position" [options]="positionOptions" class="w-full"/>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2">
        <app-checkbox [(checked)]="overlap" color="primary">Overlap</app-checkbox>
        <app-checkbox [(checked)]="hidden" color="tertiary">Hidden</app-checkbox>
      </div>
    } @else {
      <div class="mt-2">
        <app-form-input
          [(ngModel)]="badgeLabel"
          [config]="{
            label: 'Label',
            placeholder: 'Badge label',
            icon: 'text_fields'
          }">
        </app-form-input>
      </div>

      <div class="mt-2">
        <label class="section-label flex items-center gap-1.5 mb-1">
          <mat-icon>palette</mat-icon>
          Color
        </label>
        <app-toggle-group [(value)]="inlineColor" [options]="inlineColorOptions" class="w-full"/>
      </div>

      <div class="mt-2">
        <app-checkbox [(checked)]="hasIndicator" color="primary">Show Indicator (!)</app-checkbox>
      </div>
    }
  </div>

  <div slot="documentation">
    @if (selectedVariant() === 'overlay') {
      <app-card icon="explore" title="Position Variations">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
          @for (pos of BADGE_POSITIONS; track pos.value) {
            <div class="color-variation-card">
              <app-badge
                [color]="overlayColor()"
                [content]="badgeContent()"
                [overlap]="overlap()"
                [position]="pos.value"
                variant="overlay">
                <button mat-icon-button>
                  <mat-icon>star</mat-icon>
                </button>
              </app-badge>
              <code class="code-snippet text-center">{{ pos.label }}</code>
            </div>
          }
        </div>
      </app-card>
    } @else {
      <app-card icon="palette" title="Color Variations">
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
          @for (color of INLINE_COLORS; track color.value) {
            <div class="color-variation-card">
              <app-badge [color]="color.value" variant="inline">{{ badgeLabel() }}</app-badge>
              <code class="code-snippet">color="{{ color.value }}"</code>
            </div>
          }
        </div>
      </app-card>

      <app-card class="mt-4" icon="info" title="With Indicator">
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
          @for (color of INLINE_COLORS; track color.value) {
            <div class="color-variation-card">
              <app-badge [color]="color.value" [hasIndicator]="true" variant="inline">{{ badgeLabel() }}</app-badge>
              <code class="code-snippet">[hasIndicator]="true"</code>
            </div>
          }
        </div>
      </app-card>
    }
  </div>

</app-pds-page-layout>
