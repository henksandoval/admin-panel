<pds-playground-template
  [generatedCode]="generatedCode()"
  [apiProperties]="API_PROPERTIES"
  [bestPractices]="BEST_PRACTICES"
  [componentTag]="'<app-toggle-group>'">

  <!-- Header -->
  <div header>
    <app-button variant="text" (clicked)="goBack()" iconBefore="arrow_back" class="back-button mb-4">
      Back to PDS Index
    </app-button>
    <div class="max-w-3xl">
      <h1 class="text-4xl font-bold mb-3">Toggle Group Component</h1>
      <p class="text-lg opacity-90">
        Segmented controls for single or multiple selection. A wrapper around Material Button Toggle providing consistent styling and ergonomic API.
      </p>
    </div>
  </div>

  <!-- Preview -->
  <div preview>
    @if (selectedState() === 'single') {
      <div class="flex flex-col items-center gap-4">
        <app-toggle-group
          [options]="currentOptions()"
          [(value)]="singleValue"
          [color]="selectedColor()"
          [size]="selectedSize()"
          [vertical]="isVertical()"
          [disabled]="isDisabled()">
        </app-toggle-group>
        <p class="text-sm text-on-surface-variant">
          Selected: <strong>{{ singleValue() || 'None' }}</strong>
        </p>
      </div>
    }

    @if (selectedState() === 'multiple') {
      <div class="flex flex-col items-center gap-4">
        <app-toggle-group
          [options]="currentOptions()"
          [(value)]="multipleValue"
          [color]="selectedColor()"
          [size]="selectedSize()"
          [multiple]="true"
          [vertical]="isVertical()"
          [disabled]="isDisabled()">
        </app-toggle-group>
        <p class="text-sm text-on-surface-variant">
          Selected: <strong>{{ multipleValue().join(', ') || 'None' }}</strong>
        </p>
      </div>
    }

    @if (selectedState() === 'icons') {
      <div class="flex flex-col items-center gap-4">
        <app-toggle-group
          [options]="currentOptions()"
          [(value)]="iconsValue"
          [color]="selectedColor()"
          [size]="selectedSize()"
          [vertical]="isVertical()"
          [disabled]="isDisabled()">
        </app-toggle-group>
        <p class="text-sm text-on-surface-variant">
          Selected: <strong>{{ iconsValue() || 'None' }}</strong>
        </p>
      </div>
    }

    @if (selectedState() === 'vertical') {
      <div class="flex flex-col items-center gap-4">
        <app-toggle-group
          [options]="currentOptions()"
          [(value)]="verticalValue"
          [color]="selectedColor()"
          [size]="selectedSize()"
          [vertical]="true"
          [disabled]="isDisabled()">
        </app-toggle-group>
        <p class="text-sm text-on-surface-variant">
          Selected: <strong>{{ verticalValue() || 'None' }}</strong>
        </p>
      </div>
    }
  </div>

  <!-- Controls -->
  <div controls>
    <div class="space-y-2">
      <label class="section-label text-sm font-medium flex items-center gap-1.5">
        <mat-icon class="text-base !w-4 !h-4 leading-4">category</mat-icon>
        State Type
      </label>
      <app-toggle-group
        [options]="stateOptions"
        [(value)]="selectedState"
        class="w-full" />
    </div>

    <div class="space-y-2">
      <label class="section-label text-sm font-medium flex items-center gap-1.5">
        <mat-icon class="text-base !w-4 !h-4 leading-4">palette</mat-icon>
        Color
      </label>
      <app-toggle-group
        [options]="colorOptions"
        [(value)]="selectedColor"
        class="w-full" />
    </div>

    <div class="grid grid-cols-2 gap-6">
      <div class="space-y-2">
        <label class="section-label text-sm font-medium flex items-center gap-1.5">
          <mat-icon class="text-base !w-4 !h-4 leading-4">straighten</mat-icon>
          Size
        </label>
        <app-toggle-group
          [options]="sizeOptions"
          [(value)]="selectedSize"
          class="w-full" />
      </div>
    </div>

    <div>
      <app-checkbox [(checked)]="isVertical" color="primary">Vertical Layout</app-checkbox>
      <app-checkbox [(checked)]="isDisabled" color="tertiary">Disabled State</app-checkbox>
    </div>
  </div>

  <!-- Documentation -->
  <div documentation>
    @if (currentStateGuide(); as guide) {
      <mat-card appearance="outlined" class="overflow-hidden" [class]="getCardBorderClasses(guide.emphasis)">
        <mat-card-content class="p-0">
          <div class="card-header p-6 border-b border-outline-variant/30">
            <div class="flex items-start justify-between gap-4">
              <div class="flex-1">
                <h2 class="card-title text-2xl font-bold mb-2">{{ guide.title }}</h2>
                <p class="text-base opacity-80">{{ guide.description }}</p>
              </div>
              <span [class]="getEmphasisBadgeClasses(guide.emphasis)">
                {{ guide.emphasis }}
              </span>
            </div>
          </div>

          <div class="p-6 space-y-6">
            <div>
              <div class="flex items-center gap-2 mb-3">
                <mat-icon class="success text-lg">check_circle</mat-icon>
                <h3 class="font-semibold text-lg">When to Use</h3>
              </div>
              <ul class="space-y-2 ml-6">
                @for (item of guide.whenToUse; track item) {
                  <li class="flex items-start gap-2">
                    <mat-icon class="success text-base mt-0.5 shrink-0">arrow_right</mat-icon>
                    <span>{{ item }}</span>
                  </li>
                }
              </ul>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    }
  </div>

</pds-playground-template>
