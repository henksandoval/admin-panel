<app-page-layout title="Form Field Gallery"
  description="Complete reference with all field types and working validations" [layoutConfig]="customLayout"
  [showEmptySlots]="true">

  <ng-template appSlot="header">
    <header class="mb-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="page-title mb-2">Form Field Gallery</h1>
          <p class="page-description">
            Complete reference with all field types and working validations. Test real-time validation and explore
            different visual configurations.
          </p>
        </div>
        <app-button variant="text" (clicked)="goBack()" iconBefore="arrow_back">
          Back to PDS
        </app-button>
      </div>
    </header>
  </ng-template>

  <ng-template appSlot="left">
    <app-card title="Complete Form Example" icon="description">
      <p class="card-description mb-6">
        All field types with real validations. Try entering invalid data to see errors.
      </p>

      <form [formGroup]="galleryForm" (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4">
          <app-form-input formControlName="basicText" [config]="basicTextConfig()" appFormInputConnector>
          </app-form-input>

          <app-form-select formControlName="country" [options]="countryOptions" [config]="{
                label: 'Select your country',
                placeholder: 'Choose a country',
                appearance: globalAppearance(),
                icon: showIcons() ? 'public' : '',
                hint: showHints() ? 'Select the country where you reside' : '',
                errorMessages: {
                  required: 'Country selection is required for shipping'
                }
              }" appFormSelectConnector>
          </app-form-select>
        </div>

        <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4">
          <app-form-input formControlName="email" [config]="emailConfig()" appFormInputConnector>
          </app-form-input>

          <app-form-input formControlName="password" [config]="passwordConfig()" appFormInputConnector>
          </app-form-input>
        </div>

        <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4">
          <app-form-input formControlName="age" [config]="ageConfig()" appFormInputConnector>
          </app-form-input>

          <app-form-input formControlName="phone" [config]="phoneConfig()" appFormInputConnector>
          </app-form-input>

          <app-form-datepicker formControlName="birthDate" [config]="birthDateConfig()"
            appFormDatepickerConnector>
          </app-form-datepicker>
        </div>

        <div class="md:col-span-2">
          <app-form-textarea formControlName="description" [config]="descriptionConfig()" appFormTextareaConnector>
          </app-form-textarea>
        </div>

        <div class="md:col-span-2">
          <app-form-radio-group formControlName="gender" [options]="genderOptions" [config]="genderConfig()"
            appFormRadioGroupConnector>
          </app-form-radio-group>
        </div>

        <div class="md:col-span-2">
          <app-form-checkbox formControlName="acceptTerms" [config]="{
                color: 'primary',
                errorMessages: {
                  required: 'You must accept the terms and conditions to continue',
                  requiredTrue: 'Please check this box to proceed'
                }
              }" appFormCheckboxConnector>
            <span class="terms-label">I accept the terms and conditions *</span>
          </app-form-checkbox>
        </div>

        <div class="md:col-span-2 flex justify-end gap-3">
          <app-button type="button" variant="outlined" color="secondary" iconBefore="refresh" (clicked)="resetForm()">
            Reset
          </app-button>

          <app-button type="submit" variant="filled" color="primary" iconBefore="send">
            Submit Form
          </app-button>
        </div>
      </form>
    </app-card>

    <app-card title="Generated Code" icon="code" [isExpandable]="true" [expanded]="false" class="mt-2">
      <button mat-icon-button slot="header-actions" (click)="copyToClipboard(); $event.stopPropagation()"
        matTooltip="Copiar cÃ³digo">
        <mat-icon>content_copy</mat-icon>
      </button>
      <pre class="code-block"><code>{{ completeFormCode() }}</code></pre>
    </app-card>
  </ng-template>

  <ng-template appSlot="right">
    <app-card title="Visual Controls" icon="tune">
      <p class="card-description mb-6">
        Change visual appearance of all fields (validations stay the same)
      </p>

      <div class="mt-2">
        <label class="section-label flex items-center gap-1.5 mb-1">
          <mat-icon>style</mat-icon>
          Appearance Style
        </label>
        <app-toggle-group [options]="appearanceOptions" [(value)]="globalAppearance" class="w-full" />
        <p class="helper-text mt-1">
          Changes the Material Design style of all fields
        </p>
      </div>

      <mat-divider class="my-4"></mat-divider>

      <div class="mt-2">
        <label class="section-label flex items-center gap-1.5 mb-3">
          <mat-icon>visibility</mat-icon>
          Show/Hide Elements
        </label>

        <div class="checkbox-options grid grid-cols-1 gap-3">
          <app-checkbox [(checked)]="showIcons" color="primary">
            <div class="flex items-center gap-2">
              <mat-icon>insert_emoticon</mat-icon>
              <span>Show Icons</span>
            </div>
          </app-checkbox>

          <app-checkbox [(checked)]="showHints" color="primary">
            <div class="flex items-center gap-2">
              <mat-icon>info</mat-icon>
              <span>Show Hints</span>
            </div>
          </app-checkbox>

          <app-checkbox [(checked)]="showPrefixSuffix" color="primary">
            <div class="flex items-center gap-2">
              <mat-icon>text_format</mat-icon>
              <span>Show Prefix/Suffix</span>
            </div>
          </app-checkbox>
        </div>
      </div>

      <mat-divider class="my-4"></mat-divider>

      <div class="info-card">
        <mat-icon>lightbulb</mat-icon>
        <div>
          <h4 class="info-title mb-1">Try It!</h4>
          <p class="helper-text">
            Enter invalid data in the fields to see validation errors in real-time.
            The visual controls only affect appearance, not validations.
          </p>
        </div>
      </div>
    </app-card>

    <app-card class="mt-2">
      <div class="form-status-card">
        <h4 class="status-title mb-3">Form Status</h4>
        <div class="grid grid-cols-2 gap-3">
          <div class="flex flex-col gap-1">
            <span class="status-label">Status:</span>
            <span class="status-value flex items-center gap-2"
              [class.status-valid]="formStatus() === 'VALID'"
              [class.status-invalid]="formStatus() === 'INVALID'">
              @if (formStatus() === 'VALID') {
                <mat-icon>check_circle</mat-icon>
              } @else if (formStatus() === 'INVALID') {
                <mat-icon>error</mat-icon>
              }
              {{ formStatus() }}
            </span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="status-label">Valid:</span>
            <span class="status-value">{{ formValid() }}</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="status-label">Touched:</span>
            <span class="status-value">{{ formTouched() }}</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="status-label">Dirty:</span>
            <span class="status-value">{{ formDirty() }}</span>
          </div>
        </div>
      </div>
    </app-card>
  </ng-template>

  <ng-template appSlot="footer">
    <app-pds-documentation-tabs componentTag="<app-form-input>" [apiProperties]="API_PROPERTIES"
      [bestPractices]="BEST_PRACTICES">
    </app-pds-documentation-tabs>
  </ng-template>
</app-page-layout>