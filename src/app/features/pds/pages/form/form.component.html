<div class="max-w-7xl mx-auto">
  <div class="flex items-center justify-between mb-6 p-4 bg-surface-container-highest rounded-lg">
    <div class="flex items-start gap-4">
      <mat-icon class="text-primary text-4xl">grid_view</mat-icon>
      <div>
        <h1 class="text-3xl font-bold text-on-surface">Form Field Gallery</h1>
        <p class="text-on-surface-variant mt-1">Complete reference with all field types and working validations</p>
      </div>
    </div>
    <app-button
      variant="text"
      (clicked)="goBack()"
      iconBefore="arrow_back">
      Back to PDS Index
    </app-button>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
    <div>
      <mat-card>
        <mat-card-header>
          <div class="flex items-center gap-3">
            <mat-icon class="text-primary">description</mat-icon>
            <mat-card-title>Complete Form Example</mat-card-title>
          </div>
        </mat-card-header>

        <mat-card-content class="pt-4">
          <p class="text-on-surface-variant mb-6">
            All field types with real validations. Try entering invalid data to see errors.
          </p>

          <form [formGroup]="galleryForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
            <app-form-field-input
              formControlName="basicText"
              [config]="basicTextConfig()"
              appControlConnector>
            </app-form-field-input>

            <app-form-field-input
              formControlName="email"
              [config]="emailConfig()"
              appControlConnector>
            </app-form-field-input>

            <app-form-field-input
              formControlName="password"
              [config]="passwordConfig()"
              appControlConnector>
            </app-form-field-input>

            <app-form-field-input
              formControlName="age"
              [config]="ageConfig()"
              appControlConnector>
            </app-form-field-input>

            <app-form-field-input
              formControlName="phone"
              [config]="phoneConfig()"
              appControlConnector>
            </app-form-field-input>

            <div class="bg-surface-container-low p-4 rounded-lg border border-outline-variant">
              <h4 class="text-base font-semibold mb-3 text-on-surface">Form Status</h4>
              <div class="grid grid-cols-2 gap-3">
                <div class="flex flex-col gap-1">
                  <span class="text-xs text-on-surface-variant">Status:</span>
                  <span class="flex items-center gap-2 text-sm font-medium"
                        [class.text-tertiary]="formStatus() === 'VALID'"
                        [class.text-error]="formStatus() === 'INVALID'">
                    @if (formStatus() === 'VALID') {
                      <mat-icon class="text-base">check_circle</mat-icon>
                    } @else if (formStatus() === 'INVALID') {
                      <mat-icon class="text-base">error</mat-icon>
                    }
                    {{ formStatus() }}
                  </span>
                </div>
                <div class="flex flex-col gap-1">
                  <span class="text-xs text-on-surface-variant">Valid:</span>
                  <span class="text-sm font-medium">{{ formValid() }}</span>
                </div>
                <div class="flex flex-col gap-1">
                  <span class="text-xs text-on-surface-variant">Touched:</span>
                  <span class="text-sm font-medium">{{ formTouched() }}</span>
                </div>
                <div class="flex flex-col gap-1">
                  <span class="text-xs text-on-surface-variant">Dirty:</span>
                  <span class="text-sm font-medium">{{ formDirty() }}</span>
                </div>
              </div>
            </div>

            <div class="flex gap-3">
              <app-button
                type="submit"
                variant="filled"
                color="primary"
                iconBefore="send"
                class="flex-1">
                Submit Form
              </app-button>

              <app-button
                type="button"
                variant="outlined"
                color="secondary"
                iconBefore="refresh"
                (clicked)="resetForm()"
                class="flex-1">
                Reset
              </app-button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>

    <div>
      <mat-card class="h-full">
        <mat-card-header>
          <div class="flex items-center gap-3">
            <mat-icon class="text-primary">tune</mat-icon>
            <mat-card-title>Visual Controls</mat-card-title>
          </div>
        </mat-card-header>

        <mat-card-content class="flex flex-col gap-6 pt-4">
          <p class="text-on-surface-variant">
            Change visual appearance of all fields (validations stay the same)
          </p>

          <div class="flex flex-col gap-3">
            <label class="flex items-center gap-2 font-medium text-on-surface">
              <mat-icon class="text-primary">style</mat-icon>
              Appearance Style
            </label>
            <app-toggle-group
              [options]="appearanceOptions"
              [(value)]="globalAppearance"
              class="w-full"/>
            <p class="text-xs text-on-surface-variant">Changes the Material Design style of all fields</p>
          </div>

          <mat-divider></mat-divider>

          <div class="flex flex-col gap-3">
            <label class="flex items-center gap-2 font-medium text-on-surface">
              <mat-icon class="text-primary">visibility</mat-icon>
              Show/Hide Elements
            </label>

            <div class="flex flex-col gap-3">
              <app-checkbox [(checked)]="showIcons" color="primary">
                <div class="flex items-center gap-2">
                  <mat-icon class="text-lg">insert_emoticon</mat-icon>
                  <span>Show Icons</span>
                </div>
              </app-checkbox>

              <app-checkbox [(checked)]="showHints" color="primary">
                <div class="flex items-center gap-2">
                  <mat-icon class="text-lg">info</mat-icon>
                  <span>Show Hints</span>
                </div>
              </app-checkbox>

              <app-checkbox [(checked)]="showPrefixSuffix" color="primary">
                <div class="flex items-center gap-2">
                  <mat-icon class="text-lg">text_format</mat-icon>
                  <span>Show Prefix/Suffix</span>
                </div>
              </app-checkbox>
            </div>
          </div>

          <mat-divider></mat-divider>

          <div class="bg-surface-container-high p-4 rounded-lg flex gap-3 mt-auto">
            <mat-icon class="text-tertiary text-2xl">lightbulb</mat-icon>
            <div>
              <h4 class="font-semibold text-sm mb-1">Try It!</h4>
              <p class="text-xs text-on-surface-variant">
                Enter invalid data in the fields to see validation errors in real-time.
                The visual controls only affect appearance, not validations.
              </p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div>
    <mat-card>
      <mat-card-content class="p-0">
        <mat-tab-group animationDuration="300ms">
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon class="mr-2">code</mat-icon>
              Field Examples
            </ng-template>

            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2">Individual Field Code</h3>
              <p class="text-on-surface-variant mb-6">
                Copy the code for any field type to use in your project
              </p>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                @for (example of FIELD_EXAMPLES; track example.id) {
                  <div class="border border-outline-variant rounded-lg p-4 flex flex-col gap-3">
                    <div class="flex items-start gap-3">
                      <mat-icon class="text-primary text-2xl">{{ example.icon }}</mat-icon>
                      <div class="flex-1">
                        <h4 class="font-semibold text-base">{{ example.title }}</h4>
                        <p class="text-sm text-on-surface-variant">{{ example.description }}</p>
                      </div>
                    </div>

                    <div class="flex items-center gap-2 bg-surface-container-low p-2 rounded">
                      <mat-icon class="text-sm text-tertiary">check_circle</mat-icon>
                      <span class="text-xs text-on-surface-variant">{{ example.validators }}</span>
                    </div>

                    <app-button
                      variant="outlined"
                      size="small"
                      iconBefore="content_copy"
                      (clicked)="copyCode(example.id)"
                      class="w-full">
                      Copy Code
                    </app-button>
                  </div>
                }
              </div>
            </div>
          </mat-tab>

          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon class="mr-2">article</mat-icon>
              Complete Form
            </ng-template>

            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2">Complete Form Code</h3>
              <p class="text-on-surface-variant mb-6">
                Copy the entire form with all fields
              </p>

              <div class="border border-outline-variant rounded-lg overflow-hidden">
                <div class="flex items-center justify-between bg-surface-container-highest p-4 border-b border-outline-variant">
                  <h4 class="font-semibold">TypeScript + HTML</h4>
                  <app-button
                    variant="filled"
                    size="small"
                    iconBefore="content_copy"
                    (clicked)="copyCompleteForm()">
                    Copy All Code
                  </app-button>
                </div>

                <pre class="p-4 overflow-x-auto bg-surface-container-low"><code>// Form Initialization
form = this.fb.group(&#123;
  basicText: [''],
  email: ['', [Validators.required, Validators.email]],
  password: ['', [Validators.required, Validators.minLength(8)]],
  age: ['', [Validators.required, Validators.min(18), Validators.max(99)]],
  phone: ['', [Validators.required]]
&#125;);

// HTML Template
&lt;form [formGroup]="form" (ngSubmit)="onSubmit()"&gt;
  &lt;app-form-field-input
    formControlName="email"
    [config]="emailConfig"
    appControlConnector&gt;
  &lt;/app-form-field-input&gt;

  &lt;!-- More fields... --&gt;
&lt;/form&gt;</code></pre>
              </div>
            </div>
          </mat-tab>

          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon class="mr-2">api</mat-icon>
              API Reference
            </ng-template>

            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2">FormFieldInputOptions API</h3>
              <p class="text-on-surface-variant mb-6">
                Complete reference of all available configuration options
              </p>

              <div class="overflow-x-auto border border-outline-variant rounded-lg">
                <table class="w-full">
                  <thead class="bg-surface-container-highest">
                    <tr>
                      <th class="text-left p-3 font-semibold text-sm border-b border-outline-variant">Property</th>
                      <th class="text-left p-3 font-semibold text-sm border-b border-outline-variant">Type</th>
                      <th class="text-left p-3 font-semibold text-sm border-b border-outline-variant">Default</th>
                      <th class="text-left p-3 font-semibold text-sm border-b border-outline-variant">Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (prop of API_PROPERTIES; track prop.name) {
                      <tr class="border-b border-outline-variant last:border-0">
                        <td class="p-3 font-mono text-sm text-primary">{{ prop.name }}</td>
                        <td class="p-3 font-mono text-xs text-on-surface-variant">{{ prop.type }}</td>
                        <td class="p-3 text-sm">{{ prop.defaultValue || '-' }}</td>
                        <td class="p-3 text-sm text-on-surface-variant">{{ prop.description }}</td>
                      </tr>
                    }
                  </tbody>
                </table>
              </div>
            </div>
          </mat-tab>

          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon class="mr-2">tips_and_updates</mat-icon>
              Best Practices
            </ng-template>

            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2">Best Practices Guide</h3>
              <p class="text-on-surface-variant mb-6">
                Follow these guidelines for optimal form field usage
              </p>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                @for (practice of BEST_PRACTICES; track practice.label) {
                  <mat-card appearance="outlined" class="flex flex-col gap-3 p-5">
                    <mat-icon color="primary" class="text-3xl">{{ practice.icon }}</mat-icon>
                    <h4 class="font-semibold text-base">{{ practice.label }}</h4>
                    <p class="text-sm text-on-surface-variant">{{ practice.text }}</p>
                  </mat-card>
                }
              </div>
            </div>
          </mat-tab>
        </mat-tab-group>
      </mat-card-content>
    </mat-card>
  </div>
</div>
