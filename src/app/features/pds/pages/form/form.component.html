<app-pds-tabs-layout
  title="Form Field Gallery"
  description="Complete reference with all field types and working validations. Test real-time validation and explore different visual configurations."
  componentTag="<app-form-field-input>"
  [code]="completeFormCode()"
  [apiProperties]="API_PROPERTIES"
  [bestPractices]="BEST_PRACTICES"
  [showCodeTab]="false"
  [showCustomTabs]="true">

  <app-button slot="header-action" variant="text" (clicked)="goBack()" iconBefore="arrow_back">
    Back to PDS Index
  </app-button>

  <div slot="main-content">
    <mat-card>
      <mat-card-header>
        <div class="flex items-center gap-3">
          <mat-icon class="card-header-icon">description</mat-icon>
          <mat-card-title>Complete Form Example</mat-card-title>
        </div>
      </mat-card-header>

      <mat-card-content class="pt-4">
        <p class="card-description mb-6">
          All field types with real validations. Try entering invalid data to see errors.
        </p>

        <form [formGroup]="galleryForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
          <app-form-field-input
            formControlName="basicText"
            [config]="basicTextConfig()"
            appControlConnector>
          </app-form-field-input>

          <app-form-field-input
            formControlName="email"
            [config]="emailConfig()"
            appControlConnector>
          </app-form-field-input>

          <app-form-field-input
            formControlName="password"
            [config]="passwordConfig()"
            appControlConnector>
          </app-form-field-input>

          <app-form-field-input
            formControlName="age"
            [config]="ageConfig()"
            appControlConnector>
          </app-form-field-input>

          <app-form-field-input
            formControlName="phone"
            [config]="phoneConfig()"
            appControlConnector>
          </app-form-field-input>

          <div class="form-status-card p-4 rounded-lg border">
            <h4 class="status-title text-base font-semibold mb-3">Form Status</h4>
            <div class="grid grid-cols-2 gap-3">
              <div class="flex flex-col gap-1">
                <span class="status-label text-xs">Status:</span>
                <span class="flex items-center gap-2 text-sm font-medium"
                      [class.status-valid]="formStatus() === 'VALID'"
                      [class.status-invalid]="formStatus() === 'INVALID'">
                  @if (formStatus() === 'VALID') {
                    <mat-icon class="text-base">check_circle</mat-icon>
                  } @else if (formStatus() === 'INVALID') {
                    <mat-icon class="text-base">error</mat-icon>
                  }
                  {{ formStatus() }}
                </span>
              </div>
              <div class="flex flex-col gap-1">
                <span class="status-label text-xs">Valid:</span>
                <span class="text-sm font-medium">{{ formValid() }}</span>
              </div>
              <div class="flex flex-col gap-1">
                <span class="status-label text-xs">Touched:</span>
                <span class="text-sm font-medium">{{ formTouched() }}</span>
              </div>
              <div class="flex flex-col gap-1">
                <span class="status-label text-xs">Dirty:</span>
                <span class="text-sm font-medium">{{ formDirty() }}</span>
              </div>
            </div>
          </div>

          <div class="flex gap-3">
            <app-button
              type="submit"
              variant="filled"
              color="primary"
              iconBefore="send"
              class="flex-1">
              Submit Form
            </app-button>

            <app-button
              type="button"
              variant="outlined"
              color="secondary"
              iconBefore="refresh"
              (clicked)="resetForm()"
              class="flex-1">
              Reset
            </app-button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>

  <div slot="main-content">
    <mat-card class="h-full">
      <mat-card-header>
        <div class="flex items-center gap-3">
          <mat-icon class="card-header-icon">tune</mat-icon>
          <mat-card-title>Visual Controls</mat-card-title>
        </div>
      </mat-card-header>

      <mat-card-content class="flex flex-col gap-6 pt-4">
        <p class="card-description">
          Change visual appearance of all fields (validations stay the same)
        </p>

        <div class="flex flex-col gap-3">
          <label class="controls-label flex items-center gap-2 font-medium">
            <mat-icon>style</mat-icon>
            Appearance Style
          </label>
          <app-toggle-group
            [options]="appearanceOptions"
            [(value)]="globalAppearance"
            class="w-full"/>
          <p class="controls-hint text-xs">Changes the Material Design style of all fields</p>
        </div>

        <mat-divider></mat-divider>

        <div class="flex flex-col gap-3">
          <label class="controls-label flex items-center gap-2 font-medium">
            <mat-icon>visibility</mat-icon>
            Show/Hide Elements
          </label>

          <div class="flex flex-col gap-3">
            <app-checkbox [(checked)]="showIcons" color="primary">
              <div class="flex items-center gap-2">
                <mat-icon class="text-lg">insert_emoticon</mat-icon>
                <span>Show Icons</span>
              </div>
            </app-checkbox>

            <app-checkbox [(checked)]="showHints" color="primary">
              <div class="flex items-center gap-2">
                <mat-icon class="text-lg">info</mat-icon>
                <span>Show Hints</span>
              </div>
            </app-checkbox>

            <app-checkbox [(checked)]="showPrefixSuffix" color="primary">
              <div class="flex items-center gap-2">
                <mat-icon class="text-lg">text_format</mat-icon>
                <span>Show Prefix/Suffix</span>
              </div>
            </app-checkbox>
          </div>
        </div>

        <mat-divider></mat-divider>

        <div class="info-card p-4 rounded-lg flex gap-3 mt-auto">
          <mat-icon class="text-2xl">lightbulb</mat-icon>
          <div>
            <h4 class="font-semibold text-sm mb-1">Try It!</h4>
            <p class="info-description text-xs">
              Enter invalid data in the fields to see validation errors in real-time.
              The visual controls only affect appearance, not validations.
            </p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <mat-tab slot="custom-tabs">
    <ng-template mat-tab-label>
      <mat-icon class="mr-2">code</mat-icon>
      Field Examples
    </ng-template>

    <div class="p-6">
      <h3 class="tab-section-title text-xl font-semibold mb-2">Individual Field Code</h3>
      <p class="tab-description mb-6">
        Copy the code for any field type to use in your project
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        @for (example of FIELD_EXAMPLES; track example.id) {
          <div class="example-card rounded-lg p-4 flex flex-col gap-3">
            <div class="flex items-start gap-3">
              <mat-icon class="example-icon text-2xl">{{ example.icon }}</mat-icon>
              <div class="flex-1">
                <h4 class="example-title font-semibold text-base">{{ example.title }}</h4>
                <p class="example-description text-sm">{{ example.description }}</p>
              </div>
            </div>

            <div class="example-badge flex items-center gap-2 p-2 rounded">
              <mat-icon class="text-sm">check_circle</mat-icon>
              <span class="text-xs">{{ example.validators }}</span>
            </div>

            <app-button
              variant="outlined"
              size="small"
              iconBefore="content_copy"
              (clicked)="copyCode(example.id)"
              class="w-full">
              Copy Code
            </app-button>
          </div>
        }
      </div>
    </div>
  </mat-tab>

  <mat-tab slot="custom-tabs">
    <ng-template mat-tab-label>
      <mat-icon class="mr-2">article</mat-icon>
      Complete Form
    </ng-template>

    <div class="p-6">
      <h3 class="tab-section-title text-xl font-semibold mb-2">Complete Form Code</h3>
      <p class="tab-description mb-6">
        Copy the entire form with all fields
      </p>

      <app-pds-code-block
        title="TypeScript + HTML"
        [code]="completeFormCode()"
        footer="ðŸ’¡ This includes the complete form setup with all validations." />
    </div>
  </mat-tab>

</app-pds-tabs-layout>
