<app-page-layout title="Form Field Gallery"
  description="Complete reference with all field types and working validations" [layoutConfig]="customLayout"
  [showEmptySlots]="true">

  <ng-template appSlot="header">
    <header class="mb-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold mb-2">Form Field Gallery</h1>
          <p class="text-lg text-gray-600">
            Complete reference with all field types and working validations. Test real-time validation and explore
            different visual configurations.
          </p>
        </div>
        <app-button variant="text" (clicked)="goBack()" iconBefore="arrow_back">
          Back to PDS
        </app-button>
      </div>
    </header>
  </ng-template>

  <ng-template appSlot="left">
    <app-card title="Complete Form Example" icon="description">
      <p class="card-description mb-6">
        All field types with real validations. Try entering invalid data to see errors.
      </p>

      <form [formGroup]="galleryForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
        <app-form-input formControlName="basicText" [config]="basicTextConfig()" appFormInputConnector>
        </app-form-input>

        <app-form-input formControlName="email" [config]="emailConfig()" appFormInputConnector>
        </app-form-input>

        <app-form-input formControlName="password" [config]="passwordConfig()" appFormInputConnector>
        </app-form-input>

        <app-form-input formControlName="age" [config]="ageConfig()" appFormInputConnector>
        </app-form-input>

        <app-form-input formControlName="phone" [config]="phoneConfig()" appFormInputConnector>
        </app-form-input>

        <app-form-textarea formControlName="description" [config]="descriptionConfig()" appFormTextareaConnector>
        </app-form-textarea>

        <app-form-datepicker formControlName="birthDate" [config]="birthDateConfig()" appFormDatepickerConnector>
        </app-form-datepicker>

        <app-form-radio-group formControlName="gender" [options]="genderOptions" [config]="genderConfig()"
          appFormRadioGroupConnector>
        </app-form-radio-group>

        <app-form-select formControlName="country" [options]="countryOptions" [config]="{
              label: 'Select your country',
              placeholder: 'Choose a country',
              appearance: globalAppearance(),
              icon: showIcons() ? 'public' : '',
              hint: showHints() ? 'Select the country where you reside' : '',
              errorMessages: {
                required: 'Country selection is required for shipping'
              }
            }" appFormSelectConnector>
        </app-form-select>

        <app-form-checkbox formControlName="acceptTerms" [config]="{
              color: 'primary',
              errorMessages: {
                required: 'You must accept the terms and conditions to continue',
                requiredTrue: 'Please check this box to proceed'
              }
            }" appFormCheckboxConnector>
          <span class="font-medium">I accept the terms and conditions *</span>
        </app-form-checkbox>

        <div class="flex gap-3">
          <app-button type="submit" variant="filled" color="primary" iconBefore="send" class="flex-1">
            Submit Form
          </app-button>

          <app-button type="button" variant="outlined" color="secondary" iconBefore="refresh" (clicked)="resetForm()"
            class="flex-1">
            Reset
          </app-button>
        </div>
      </form>
    </app-card>
  </ng-template>

  <ng-template appSlot="right">
    <app-card title="Visual Controls" icon="tune">
      <p class="card-description mb-6">
        Change visual appearance of all fields (validations stay the same)
      </p>

      <div class="mt-2">
        <label class="section-label text-sm font-medium flex items-center gap-1.5 mb-1">
          <mat-icon>style</mat-icon>
          Appearance Style
        </label>
        <app-toggle-group [options]="appearanceOptions" [(value)]="globalAppearance" class="w-full" />
        <p class="text-xs mt-1" style="color: var(--mat-sys-on-surface-variant);">
          Changes the Material Design style of all fields
        </p>
      </div>

      <mat-divider class="my-4"></mat-divider>

      <div class="mt-2">
        <label class="section-label text-sm font-medium flex items-center gap-1.5 mb-3">
          <mat-icon>visibility</mat-icon>
          Show/Hide Elements
        </label>

        <div class="grid grid-cols-1 gap-3">
          <app-checkbox [(checked)]="showIcons" color="primary">
            <div class="flex items-center gap-2">
              <mat-icon class="text-lg">insert_emoticon</mat-icon>
              <span>Show Icons</span>
            </div>
          </app-checkbox>

          <app-checkbox [(checked)]="showHints" color="primary">
            <div class="flex items-center gap-2">
              <mat-icon class="text-lg">info</mat-icon>
              <span>Show Hints</span>
            </div>
          </app-checkbox>

          <app-checkbox [(checked)]="showPrefixSuffix" color="primary">
            <div class="flex items-center gap-2">
              <mat-icon class="text-lg">text_format</mat-icon>
              <span>Show Prefix/Suffix</span>
            </div>
          </app-checkbox>
        </div>
      </div>

      <mat-divider class="my-4"></mat-divider>

      <div class="info-card p-4 rounded-lg flex gap-3">
        <mat-icon class="text-2xl">lightbulb</mat-icon>
        <div>
          <h4 class="font-semibold text-sm mb-1">Try It!</h4>
          <p class="text-xs" style="color: var(--mat-sys-on-surface-variant);">
            Enter invalid data in the fields to see validation errors in real-time.
            The visual controls only affect appearance, not validations.
          </p>
        </div>
      </div>
    </app-card>
    <app-card class="mt-2">
      <div class="form-status-card p-4 rounded-lg border">
        <h4 class="status-title text-base font-semibold mb-3">Form Status</h4>
        <div class="grid grid-cols-2 gap-3">
          <div class="flex flex-col gap-1">
            <span class="status-label text-xs">Status:</span>
            <span class="flex items-center gap-2 text-sm font-medium" [class.status-valid]="formStatus() === 'VALID'"
              [class.status-invalid]="formStatus() === 'INVALID'">
              @if (formStatus() === 'VALID') {
              <mat-icon class="text-base">check_circle</mat-icon>
              } @else if (formStatus() === 'INVALID') {
              <mat-icon class="text-base">error</mat-icon>
              }
              {{ formStatus() }}
            </span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="status-label text-xs">Valid:</span>
            <span class="text-sm font-medium">{{ formValid() }}</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="status-label text-xs">Touched:</span>
            <span class="text-sm font-medium">{{ formTouched() }}</span>
          </div>
          <div class="flex flex-col gap-1">
            <span class="status-label text-xs">Dirty:</span>
            <span class="text-sm font-medium">{{ formDirty() }}</span>
          </div>
        </div>
      </div>
    </app-card>
  </ng-template>

  <ng-template appSlot="footer">
    <app-pds-documentation-tabs 
      componentTag="<app-form-input>"
      [apiProperties]="API_PROPERTIES"
      [bestPractices]="BEST_PRACTICES">
    </app-pds-documentation-tabs>
  </ng-template>
</app-page-layout>